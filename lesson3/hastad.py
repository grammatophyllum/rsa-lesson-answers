from Crypto.Util.number import long_to_bytes, inverse
import gmpy2

n_list = [20827596005640433415828620452155204911581732194308179545319443782221080302711621458312905885486882337280813317956348473765529728155840644316556867696546498600694293787102112996691534642465407339442087195764404687057078580769626951510692842083303089322585980929923906591483679374028920558560143845059059796794544121544437385265092383427980828512087002725742006416405294714655436532328488119303231293721779227136984373082713351706526631310748905061838312607094989263072422116939109531420262266402421539949991816964019024895747653319359307581954965946502587518624667340107661142532256149629968395466502647434301284987869,
25013745069312258393193262176898396650048310162448720997130295518305264637567468579611074117967365402330258387893635980431264724023970564055831391814273760766016503390298800875843002270688358131944809501468202420247219678298469012091925633564725355294674202520889469063429164014142567037231364565198698809162170469325455281291654909660809799000598385016244000719280546832697391471309976648132782146899644792889391170668852944800781235473549820151201222169605500177935185796076248692354891031735858496726422697382951913205316057542583264608325289361634537966666276845028514844530457742399482761168122165373071057978661,
22791007747446785861212714960137966190431875621463422902857184375279505425159549859808322971750312452427658592745208956212835248104071838230513655658932775618693066879373422179068092331006252013240152055101982069074428474407755347900889006509198765088332514851017500933099477381107117188425131414540308404840748497599750403375593234520434882068191254075491324901311584461278094470563828228853024602131775140129997378749453613272141032259652202481488817436760099840960894664124965063891771113839574798346955253663063832569067391792056475236987255376767187531542212860317581925560559886867873309183724769115256802038519,
21141214166899529187221093041233334717982263583185037670147523276232969754904771327865062354216947680003985333903106388312717510987531792184049989780968143145291859780084546627627389888441708194874099636492886891921644848346450796445380244082568305565417196025509481335210597076076662230221466407661883804657838643483682454398266739900541863892033152718732467477856358226921622740345157122524471917372142161213114600528533988023417100894878516367438136292985838320313493281221936380722392092276107407839015115178442295232351040804089277521292253037914300408319636677737652225584365694301060442075652393710100366701883,
25703180107393851504354361331163583009123893935276282955323759029496040717255806731798550095673024741651791822781332245535735354547408399714239317044737261993006279205251848455644836978239583665813158668465871643541931132968013952272975224207356996090135235756416063602247427771643201233835372465781822085207895941597314895484969456872855642969869290795533192860255581391378948703911577374353050368134451920880282286502983121880299598617671160851479671148560696545837745744564776918821729109167190792223400606873797915080592476885742376304330723377649939648735455070749292210956908405931794702487701928713744899410131,
26261747481679565157902916934761036181137501297420129765109492557802824234376432676490082503801293842861035344798153984533879069308150266624886766565939304142934578961171814748440709875207834335232757339763484609659448429173401279313238041412167688222455537303736503245682115948632931442418888661474216585476255097774251826196768004930336569810579988375818040340595913704490971237811857254241074350594432488090207618347558109136124183962315671413600178910451693175842215330048425287428080460055674338566750966524432253249143873176276703447899191151135137886535197505884768920448148514737734344719422930467762618270029,
19129196073131575397484388763028992018238146442416605512305891654854596600031546340483902346741227573148265648987172727020507137134319295781491410594109614035423214871848301536894886022483510459781215691681514096779780995551781838141278242214157878368807105125506027592380161270451738837544910211498270559481087210168430080647609210276544947835050512638569965827751591826686474385508115303141667349213236258373672610530291041140070483385364295232262965068822099625016225018378182344029455619837867828319810873424439527361496212205597683905455974408896517389952915406887423550552294501318065521756207459237934870892259,
25184548377002407406010503085917629689328453659845533588336800312957076784952150734618982119632689803943623095959857226474313071086259769954114745201573192030661579469464937697991475663336218350675754327547748732585870789658756628657028819075101932156423747940693990631357231565175218319242942695111423850151915143759963196949850455754331240872752175370846501749287837785497610567588634770675338068717663839162828879215035289547834473591429402500666969674219883038016706251820861523978190622139032250205377755418631373905793325351384733841052497383964868849331914621739640988707392427148209045166851735503495197213493,
29998449821838737688654041341458952679577473016688878402442050551304986316402679410066424491991801946381814361579795854725940670147670839059622324186678047340928229787639335087904381550659839153911748603638115163582416834191751516462471051971732226863821292294884676557547557265285983951232651675679265008157038352613411592842471589226477645948206761233872076273676411652165855649853814984530036591422923776341550039740881346527798909179604376014736230868114657164739136974907350340123862843195117749663476321411760088087106530716613359413191626429221234652174283055096444015927236677212301306673198087494680907996471,
19133755052616112642400572789808349564526553691373066189148896494756479160829584965911034820746391278127204052178041041020125496162240691491235797494729637033918689197315582574473156403512900038067063888818799533902752284753840209576376076485777194653394813804620191404351917459208779970526442865868611489970238002214776332607994146072169680877640324098527552930293458865556768572378840511941427496106662908240744152861667490768764471584990252680717368993805445024942644164687222357480078769086489755658610599763965485911439566493662221361951088572874424891870669558918251844037081090888599154029394646376893629531041,
24456042172391673323035785071575771886711919080176116248028490693053356546309533607355839588536478308988572368610101358961743137150960114211615831688733379370304454161584068690495539113563932677509848503288020017001534338518688519455097998499327877030040980446520338995234168109045283926797843635912795363291537906976596364314011822749344460997092440164020214868675806957628164684683385523554690682328476425254780638885345619868611511959678193219731398525842610430724754247718320758323383132321968038210485572067910982744503120962161043601792532013545475575738782358498939788757182588935799631614049840477392722578553,
28942365776524866374389530996527904549107184188613768453273708947266136443202963070348965024851635781678595387279781136773447394325063375998318915415872311853372373557801715115840891886720470407852650978422516501028183428332474359652858979938859599341758357440742671742558069331734174850431126554928811691109659672316865048030779789155710151850933828516239993964228244740579773106131814441423887688888520146565627580105060036814024636493542097007020823260018595067242116025389371821188259975260974477291928830793787555486294313597303214150328135013984394547760690698831612393302277261028578674757726944545514342181159,
23972214482048544299207256399918384512635533620969778827090445505628822136462599385728946001852499572651237443129103626742854074984446700624459385531917273213980358445205474840344452717085705526699815406267788651171744884478119559783732587010574538567380506611764442742839216652741567935046405538013613946188577827070899124311974163036669353421383391305043820757503150054568950796541087326320696785716781721153724472788666716333822852169591381197057702981607327414995240043012400938715942572061631856382863007840895452673655122876250857567992734955012835612231944018632179504636036534415999694369510578512491409448671]

c_list = [14169667254589462490680239223269225503991571549254321966110037512710069142700911715270884849136611781376452228091277870702126454866085439155094332492900105980918982549792745779149588509393247990066310642165052056924486768347582218681578049591923404873361129686584312784427533198095884533630624976984474336509592902019379847204431992173303791203584667108697308851158296964459848368135535520035077110856290835873069572146110804730773621068365034389236074350974390329034886824547330003538327992724202785899204900637900617707138087715881405360919337583444951618771632840993132944211822059514839757571668358590881067961120,
2083060061215005845762214021959200691549292950824296548800934904469761654405404284102948203294632579304063674014945846088018686037402328524450157369761901747871724656913460010030383217945151876774630749899411974921858336876757627857620314868441676516916975588010783347464333251924758343683264321727068932621597312150098222753537525605307648921857517982728210159639532119753488068251622837806798343925022024666692156919952512238345586766042702910579645833138446833539717806730476402553297811794279240850956776516848709965600115820647941982361733811239925243112038594159047370868669903918175785501767532824703222144076,
2364305337237225634871508153918864260139009738126926639231203676994576588630628838768187275942405431567539846307363669575953647395821475787592626168371758292132627393278894655020058890530995004644349835070613056906262385439724067120420129089825006375248853039374507478203599963578424752328103372513293092657387278600179581351108314653034090866549523788496876858950372054750679172155390977010446471213939575461121008090384769073104862349302712244492725588201181695550617946361272146509485526333213258215901447847099010378595023056185656717418407188775660074263125045280942564256209766022955263300136001526124905110292,
4702828442647842711193366338569358201296071961909452587259507105494558941461168541130180005914988669108394202846096724695643213007446747865444366049816835151900948146138905246259182811875909899948119605172828559704417151632077890052105262507036595984857534256200476003525536907749351847951239616805669933452158574320812933787973291109793152521737347809214292436644149807588590458448023584562340047905064696789664643519177874366467125426001523116601976856032216465642970649001874439290707573557372955751310316057717967265198908130061552101679498722358137021649552222242177309697117009695600256375570710543439536907259,
4706964017095797553831168364536828270801474479573194675911220344891313082088541713474771082722409117216420977904313755780875719158094120183083957545155691147877368475386621405482261924430814437369105050456339661545121302164952420756210352041648857496918104063018316056167791105109154540440674379766721611011201388937141188251302466211316597624071639880972557727904182386874622582361009568442699663095256101441676141752866461474564981742370011328192179931462026524854925989101615951707303947954625625601840112236034870958110063095892443073357867695513773959413750367822576629748945503238196302342110408651767866222089,
6366873316229242975964334188762197775157579164653986522952936726667376263802112358264217789905441985612658809988919430102095738142364210597816357560635692892301234428822290674131494147662056266264919286229771712336841515090685005162954318132874368398584706767430490442695379311206571624610417765493471130011070894592440840320782406230055375296634084823656727704456540646466576017476993418229126882103924028190769877941665152813640980891022856656364250774059743754665190331158010483477346927540786509527328447579771811779741778028913578311193139344942884388481673833573866746055941765190399105314624605270116553436260,
14944530795768591485654157567508697728588737979118890291676651347726603719983681847408144138843076959479968507989376041372403177308723201572382299056555181253425435724950271835649549788336306601183682343885733992267404009437001817146390046510671427603028502221235745609938696733951670514267051838741984626707372650987256878837910109336027468806808872606021121630139176296462171866755482870700738286743880463214820616110722397327195706107451666077246629432683918065724300243602183796773992929517139551385692112854648399247755698818303219907864823835925242065007677999952031361614124728038650026657324418776106284816185,
11957454122095269687315556723784819541429396630515520450085288363871895576665121264441155484918172540837819144538854365013337263135690444895075679124258832520796987615583335224190585046928373023640307415853298555956699713201467516243218680806225179461669184035404062880214482415344738974634574383203933455431002638207396449788998656817240684823456137273371843295062861478386247847777734684841117670369785841017273267275994736180003639715156111661759099640441173536284317071801205784899271794256714992197344332463500288770208791583301612232216583067070312933436716499883097946810831480330542273274510258125893953135608,
18539673865093604951679659940646306423853952622846969407672617464285692114589545960234990716933022775448251484579322510636177487636465648962906685770641923508524213227663168041201548258662753177407778792776188015828166325436081528298671054065086116847774169593877043701667295502728433816965295555624181602423386514249698581370483480683398402695347281201264495932871084948151607135106007639428068435051780153478672408766680659443308554633230711906183952741903870214830851426483021536526508562166736668589217888326788765273905011814356724352198950412191523957900611099658826903180825361387940366779245243029876931977115,
10916983495693158794511319032080728968760145330873782821923648781615535494153578541956787814387510945641382881639819285561620797246091648648684526528354441016838772285692054419532616391516807767483371816626911915151327010950559588762624851414878914694391042634749087236405608184199681341309400846930684968138575789939180057251229439401138275953497315979339161368358888414745127392173556379682368175592715414198572889143671766115296480659006240639489961591599754838634881466170133933312951236409174636401018174360866373045459966764227260632577034487044867569885936803466556204557173062770223909457106391759405236456691,
5564873191278283862009562666808307947856477663603624464502052921392928681200836827293734577880819621386564377179137370631109753213221434069704727791256152506459809770167990548993294176079169739042489249094141206140411728105768074125497010755181791739322256505554752292858246458369931858932486607952383535881402020883674285843869453722400463614994139765732856047144250035575497687912086476309979237528246004003700956008938160989054065559105672177927853909352429443360335875611055214980770748679103490366128002367658629733797851117896475581891492076232607434957271077361968717212285330566863587321836020188114860333034,
8771441545276972348686888791145101214841499910287294097909471497181229744584064640306609935520193038652117758394535996023763506474068259735309868237555982722684144346854715337444748112651256690099298080851598247417522855561776677157060558456115105674284895590247832590834728703337418622073689726142657783168458233012475910730405897196693436233507768659865056687236017350347931970624224699429801159680906867177782904602895147250124408851250661515606941687840083619717582406897115489166564434240455985448277121214087771187218528934791317046160489279680482300193332315722516963524877882540531451176968162154687853347921,
817648271082679615576874185649578267802035292315601700960867237618104724171360707947157026172556387349853659428163143954123107437711025201922555212694050653551479791684372320203486319733232673384284659017781433932091182865820313783958956298063670976623714966629789724325875275474955295857097105260039666868958748384228047597569765956272387061357037028142752717891531158314819693204410957345783509106857258595568013306136865200381341373405405023752719634488191852040394851814044591998975305750385763117496790158890289022277912301009516414460606593388748917789124688438819755407938344685311478191364299889469340992429]

e = len(n_list)

# Chinese Remainder Theorem
def crt(c_list, n_list):
    # Calculate N
    N = 1
    for n in n_list:
        N *= n

    # Summation ci*Mi*Ni
    summation = 0
    for i in range(len(n_list)):
        Ni = N // n_list[i]
        Mi = inverse(Ni, n_list[i]) # mod inverse
        summation += c_list[i] * Mi * Ni
    return summation % N

C = crt(c_list, n_list)
m, exact = gmpy2.iroot(C, e)

if exact:
    msg = str(long_to_bytes(m))[2:-1].strip()
    print(msg) #NYRCS{crt_is_weird_br4dyn}
else:
    print("Failed to recover message")